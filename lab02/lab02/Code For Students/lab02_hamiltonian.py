import para_dibujar as dib
from itertools import permutations


#perm = permutations(range(len(g)))
#for i in perm:
#     assert(perm[i+1]==0 or perm[i+1]==1):
#         if(g[perm[i]][perm[i+1]]== 0):
#           return False
#  return True

def circuito_Hamiltoniano(g,p):
    salir = False
    i=0
    while i < (len(p)-1) and not salir:
        if g[p[i]][p[i+1]]:
            i +=1
        else: 
            salir = True
    return not salir
        

def graph_has_Hamiltonian_circuit(g):
    perm = permutations(range(len(g)))
    for i in perm:
        if circuito_Hamiltoniano(g, i):
            return True
    return False
          
      
    
# O(n!)

def test():
    g1 = [[0, 1, 1, 0, 0],
          [1, 0, 1, 1, 1],
          [1, 1, 0, 1, 1],
          [0, 1, 1, 0, 1],
          [0, 1, 1, 1, 0]]
    assert graph_has_Hamiltonian_circuit(g1)
    G1 = dib.nuevo_formato(g1)
    dib.dibujar(G1)

    g2 = [[0, 1, 1, 0, 0, 0],
          [1, 0, 1, 1, 1, 0],
          [1, 1, 0, 1, 1, 0],
          [0, 1, 1, 0, 1, 1],
          [0, 1, 1, 1, 0, 1],
          [0, 0, 0, 1, 1, 0]]
    
    assert graph_has_Hamiltonian_circuit(g2)

    g3 = [[0, 1, 1, 0, 0, 0, 0, 0],
          [1, 0, 1, 1, 0, 1, 1, 1],
          [1, 1, 0, 0, 1, 1, 1, 1],
          [0, 1, 0, 0, 0, 1, 0, 0],
          [0, 0, 1, 0, 0, 0, 1, 0],
          [0, 1, 1, 1, 0, 0, 1, 1],
          [0, 1, 1, 0, 1, 1, 0, 1],
          [0, 1, 1, 0, 0, 1, 1, 0]]
    
    assert graph_has_Hamiltonian_circuit(g3)
    
    g4 = [[0, 1, 1, 0, 0, 0, 0, 0, 0, 0],
          [1, 0, 1, 1, 1, 1, 1, 0, 0, 0],
          [1, 1, 0, 0, 1, 1, 1, 0, 1, 0],
          [0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
          [0, 1, 1, 0, 0, 1, 1, 0, 0, 0],
          [0, 1, 1, 1, 1, 0, 1, 1, 0, 0],
          [0, 1, 1, 0, 1, 1, 0, 1, 0, 1],
          [0, 0, 0, 0, 0, 1, 1, 0, 0, 0],
          [0, 0, 1, 0, 0, 0, 0, 0, 0, 1],
          [0, 0, 0, 0, 0, 0, 1, 0, 1, 0]]
    
    assert not graph_has_Hamiltonian_circuit(g4)
    
    g5 = [[0, 1, 1, 0, 0, 0],
          [1, 0, 0, 1, 1, 0],
          [1, 0, 0, 1, 1, 1],
          [0, 1, 1, 0, 0, 1],
          [0, 1, 1, 0, 0, 0],
          [0, 0, 1, 1, 0, 0]]
    
    assert not graph_has_Hamiltonian_circuit(g5)
    
    
   
    

test()
